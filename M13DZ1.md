```mermaid              
useCaseDiagram
    %% --- АКТОРЫ И НАСЛЕДОВАНИЕ ---
    actor "Читатель" as Reader
    actor "Библиотекарь" as Librarian
    actor "Администратор" as Admin

    %% Наследование ролей: Библиотекарь и Админ могут делать все, что может Читатель
    Reader <|-- Librarian
    Reader <|-- Admin

    %% --- СИСТЕМА ---
    package "Система Управления Сетью Библиотек" {

        %% Базовые функции (Читатель)
        useCase "Регистрация / Вход" as UC_Login
        useCase "Просмотр каталога" as UC_View
        useCase "Поиск книг" as UC_Search
        useCase "Бронирование книги" as UC_Reserve
        useCase "Просмотр истории / Броней" as UC_History
        useCase "Отмена бронирования" as UC_Cancel

        %% Функции Библиотекаря
        useCase "Управление книгами\n(Добавление/Удаление)" as UC_ManageBooks
        useCase "Выдача и Возврат книг" as UC_IssueReturn
        useCase "Управление каталогом" as UC_ManageCatalog

        %% Функции Администратора
        useCase "Управление филиалами" as UC_Branches
        useCase "Управление пользователями" as UC_ManageUsers
        useCase "Просмотр аналитики" as UC_Analytics

        %% --- СВЯЗИ ---

        %% Читатель
        Reader --> UC_Login
        Reader --> UC_View
        Reader --> UC_History
        
        %% Связи Extends (Расширение)
        UC_Search ..> UC_View : <<extend>>
        UC_Cancel ..> UC_History : <<extend>>

        %% Связи Include (Включение - обязательное условие)
        UC_Reserve ..> UC_Login : <<include>>
        UC_Reserve ..> UC_View : <<include>>
        
        %% Читатель инициирует бронирование
        Reader --> UC_Reserve

        %% Библиотекарь (Специфичные действия)
        Librarian --> UC_ManageBooks
        Librarian --> UC_IssueReturn
        Librarian --> UC_ManageCatalog


        %% Администратор (Специфичные действия)
        Admin --> UC_Branches
        Admin --> UC_ManageUsers
        Admin --> UC_Analytics
    }

  ```


 Иерархия акторов (Наследование): На диаграмме использована стрелка с пустым треугольником (<|--), указывающая на родителя.
Читатель — базовый актер.
Библиотекарь и Администратор наследуются от Читателя. Это означает, что сотрудник библиотеки или админ тоже могут искать книги и просматривать каталог как обычные пользователи, но имеют дополнительные права.



Типы связей:
<<include>> (Включение):
Пример: Бронирование книги ..> Вход в систему
Логика: Невозможно забронировать книгу, если система не знает, кто вы. Процесс бронирования всегда включает в себя идентификацию пользователя.

<<extend>> (Расширение):
Пример: Поиск книг ..> Просмотр каталога.
 Пользователь может просто листать каталог (базовый сценарий). Использование строки поиска — это опциональное расширение этого процесса, оно происходит не всегда.
Пример: Отмена бронирования ..> Просмотр истории. Отмена происходит только в контексте просмотра списка своих активных заявок.
